{"version":3,"file":"tracer.js","names":["OtelApi","_interopRequireWildcard","require","OtelSemConv","Cause","Context","Effect","Exit","_Function","Layer","Option","EffectTracer","_Resource","_utils","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","OtelSpanTypeId","Symbol","for","kindMap","SpanKind","INTERNAL","CLIENT","SERVER","PRODUCER","CONSUMER","getOtelParent","tracer","otelContext","context","active","getSpan","otelParent","spanContext","undefined","some","externalSpan","spanId","traceId","sampled","traceFlags","none","OtelSpan","name","links","kind","_tag","span","attributes","Map","parent","status","constructor","contextApi","traceApi","effectParent","startTime","options","root","startSpan","nanosToHrTime","length","map","link","makeSpanContext","recordToAttributes","populateContext","value","trace","deleteSpan","TraceFlags","SAMPLED","attribute","key","setAttribute","unknownToAttributeValue","addLinks","push","end","endTime","exit","hrTime","setStatus","code","SpanStatusCode","OK","isInterruptedOnly","cause","message","pretty","firstError","prettyErrors","stack","renderErrorCause","recordException","ERROR","event","addEvent","exports","TracerProvider","GenericTag","Tracer","make","slice","execution","fiber","currentSpan","with","traceFlagsTag","traceStateTag","makeExternalSpan","empty","add","traceState","match","createTraceState","onNone","onSome","makeOtelSpan","clock","NONE","isRemote","void","self","setAttributes","entries","arguments","convertOtelTimeInput","addLink","die","updateName","time","isRecording","constTrue","exception","timeInput","fail","error","bigint1e6","BigInt","bigint1e9","input","unsafeCurrentTimeNanos","Math","round","Date","getTime","seconds","nanos","currentOtelSpan","clockWith","layerGlobalProvider","sync","getTracerProvider","layerTracer","effect","flatMap","zip","Resource","resource","provider","getTracer","ATTR_SERVICE_NAME","ATTR_SERVICE_VERSION","layerGlobalTracer","pipe","provide","layerGlobal","unwrapEffect","setTracer","provideMerge","layerWithoutOtelTracer","layer","liftThrowable","setSpan","setSpanContext","getOrElse","extractTraceTag","getOption","getOrUndefined","tag","orElse","withSpanContext","dual","withParentSpan"],"sources":["../../../src/internal/tracer.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,uBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,uBAAA,CAAAC,OAAA;AAEA,IAAAG,OAAA,GAAAJ,uBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAL,uBAAA,CAAAC,OAAA;AACA,IAAAK,IAAA,GAAAN,uBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAN,OAAA;AACA,IAAAO,KAAA,GAAAR,uBAAA,CAAAC,OAAA;AACA,IAAAQ,MAAA,GAAAT,uBAAA,CAAAC,OAAA;AACA,IAAAS,YAAA,GAAAV,uBAAA,CAAAC,OAAA;AACA,IAAAU,SAAA,GAAAV,OAAA;AAEA,IAAAW,MAAA,GAAAX,OAAA;AAAuF,SAAAD,wBAAAa,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAf,uBAAA,YAAAA,CAAAa,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAEvF,MAAMkB,cAAc,gBAAGC,MAAM,CAACC,GAAG,CAAC,uCAAuC,CAAC;AAE1E,MAAMC,OAAO,GAAG;EACd,UAAU,EAAEpC,OAAO,CAACqC,QAAQ,CAACC,QAAQ;EACrC,QAAQ,EAAEtC,OAAO,CAACqC,QAAQ,CAACE,MAAM;EACjC,QAAQ,EAAEvC,OAAO,CAACqC,QAAQ,CAACG,MAAM;EACjC,UAAU,EAAExC,OAAO,CAACqC,QAAQ,CAACI,QAAQ;EACrC,UAAU,EAAEzC,OAAO,CAACqC,QAAQ,CAACK;CAC9B;AAED,MAAMC,aAAa,GAAGA,CAACC,MAAwB,EAAEC,WAA4B,EAAEC,OAA+B,KAAI;EAChH,MAAMC,MAAM,GAAGH,MAAM,CAACI,OAAO,CAACH,WAAW,CAAC;EAC1C,MAAMI,UAAU,GAAGF,MAAM,GAAGA,MAAM,CAACG,WAAW,EAAE,GAAGC,SAAS;EAC5D,OAAOF,UAAU,GACbvC,MAAM,CAAC0C,IAAI,CACXzC,YAAY,CAAC0C,YAAY,CAAC;IACxBC,MAAM,EAAEL,UAAU,CAACK,MAAM;IACzBC,OAAO,EAAEN,UAAU,CAACM,OAAO;IAC3BC,OAAO,EAAE,CAACP,UAAU,CAACQ,UAAU,GAAG,CAAC,MAAM,CAAC;IAC1CX;GACD,CAAC,CACH,GACCpC,MAAM,CAACgD,IAAI,EAAE;AACnB,CAAC;AAED;AACM,MAAOC,QAAQ;EAgBRC,IAAA;EAEAd,OAAA;EACAe,KAAA;EAEAC,IAAA;EApBF,CAAC7B,cAAc;EACf8B,IAAI,GAAG,MAAM;EAEbC,IAAI;EACJV,MAAM;EACNC,OAAO;EACPU,UAAU,gBAAG,IAAIC,GAAG,EAAmB;EACvCV,OAAO;EACPW,MAAM;EACfC,MAAM;EAENC,YACEC,UAA8B,EAC9BC,QAA0B,EAC1B3B,MAAsB,EACbgB,IAAY,EACrBY,YAAiD,EACxC1B,OAA+B,EAC/Be,KAAmC,EAC5CY,SAAiB,EACRX,IAA2B,EACpCY,OAAkC;IANzB,KAAAd,IAAI,GAAJA,IAAI;IAEJ,KAAAd,OAAO,GAAPA,OAAO;IACP,KAAAe,KAAK,GAALA,KAAK;IAEL,KAAAC,IAAI,GAAJA,IAAI;IAGb,IAAI,CAAC7B,cAAc,CAAC,GAAGA,cAAc;IACrC,MAAMc,MAAM,GAAGuB,UAAU,CAACvB,MAAM,EAAE;IAClC,IAAI,CAACoB,MAAM,GAAGK,YAAY,CAACT,IAAI,KAAK,MAAM,GACtCS,YAAY,GACXE,OAAO,EAAEC,IAAI,KAAK,IAAI,GACvBhC,aAAa,CAAC4B,QAAQ,EAAExB,MAAM,EAAED,OAAO,CAAC,GACxCpC,MAAM,CAACgD,IAAI,EAAE;IACjB,IAAI,CAACM,IAAI,GAAGpB,MAAM,CAACgC,SAAS,CAC1BhB,IAAI,EACJ;MACEa,SAAS,EAAE,IAAAI,oBAAa,EAACJ,SAAS,CAAC;MACnCZ,KAAK,EAAEA,KAAK,CAACiB,MAAM,GAAG,CAAC,GACnBjB,KAAK,CAACkB,GAAG,CAAEC,IAAI,KAAM;QACrBlC,OAAO,EAAEmC,eAAe,CAACD,IAAI,CAAChB,IAAI,CAAC;QACnCC,UAAU,EAAE,IAAAiB,yBAAkB,EAACF,IAAI,CAACf,UAAU;OAC/C,CAAC,CAAC,GACDd,SAAgB;MACpBW,IAAI,EAAE1B,OAAO,CAAC,IAAI,CAAC0B,IAAI;KACxB,EACD,IAAI,CAACK,MAAM,CAACJ,IAAI,KAAK,MAAM,GACvBoB,eAAe,CAACpC,MAAM,EAAE,IAAI,CAACoB,MAAM,CAACiB,KAAK,EAAEtC,OAAO,CAAC,GACnD9C,OAAO,CAACqF,KAAK,CAACC,UAAU,CAACvC,MAAM,CAAC,CACrC;IACD,MAAMG,WAAW,GAAG,IAAI,CAACc,IAAI,CAACd,WAAW,EAAE;IAC3C,IAAI,CAACI,MAAM,GAAGJ,WAAW,CAACI,MAAM;IAChC,IAAI,CAACC,OAAO,GAAGL,WAAW,CAACK,OAAO;IAClC,IAAI,CAACa,MAAM,GAAG;MACZL,IAAI,EAAE,SAAS;MACfU;KACD;IACD,IAAI,CAACjB,OAAO,GAAG,CAACN,WAAW,CAACO,UAAU,GAAGzD,OAAO,CAACuF,UAAU,CAACC,OAAO,MAAMxF,OAAO,CAACuF,UAAU,CAACC,OAAO;EACrG;EAEAC,SAASA,CAACC,GAAW,EAAEN,KAAc;IACnC,IAAI,CAACpB,IAAI,CAAC2B,YAAY,CAACD,GAAG,EAAE,IAAAE,8BAAuB,EAACR,KAAK,CAAC,CAAC;IAC3D,IAAI,CAACnB,UAAU,CAACtC,GAAG,CAAC+D,GAAG,EAAEN,KAAK,CAAC;EACjC;EAEAS,QAAQA,CAAChC,KAA2C;IAClD;IACA,IAAI,CAACA,KAAK,CAACiC,IAAI,CAAC,GAAGjC,KAAK,CAAC;IACzB,IAAI,CAACG,IAAI,CAAC6B,QAAQ,CAAChC,KAAK,CAACkB,GAAG,CAAEC,IAAI,KAAM;MACtClC,OAAO,EAAEmC,eAAe,CAACD,IAAI,CAAChB,IAAI,CAAC;MACnCC,UAAU,EAAE,IAAAiB,yBAAkB,EAACF,IAAI,CAACf,UAAU;KAC/C,CAAC,CAAC,CAAC;EACN;EAEA8B,GAAGA,CAACC,OAAe,EAAEC,IAAiC;IACpD,MAAMC,MAAM,GAAG,IAAArB,oBAAa,EAACmB,OAAO,CAAC;IACrC,IAAI,CAAC5B,MAAM,GAAG;MACZL,IAAI,EAAE,OAAO;MACbiC,OAAO;MACPC,IAAI;MACJxB,SAAS,EAAE,IAAI,CAACL,MAAM,CAACK;KACxB;IAED,IAAIwB,IAAI,CAAClC,IAAI,KAAK,SAAS,EAAE;MAC3B,IAAI,CAACC,IAAI,CAACmC,SAAS,CAAC;QAAEC,IAAI,EAAEpG,OAAO,CAACqG,cAAc,CAACC;MAAE,CAAE,CAAC;IAC1D,CAAC,MAAM;MACL,IAAIlG,KAAK,CAACmG,iBAAiB,CAACN,IAAI,CAACO,KAAK,CAAC,EAAE;QACvC,IAAI,CAACxC,IAAI,CAACmC,SAAS,CAAC;UAClBC,IAAI,EAAEpG,OAAO,CAACqG,cAAc,CAACC,EAAE;UAC/BG,OAAO,EAAErG,KAAK,CAACsG,MAAM,CAACT,IAAI,CAACO,KAAK;SACjC,CAAC;QACF,IAAI,CAACxC,IAAI,CAAC2B,YAAY,CAAC,YAAY,EAAE,gBAAgB,CAAC;QACtD,IAAI,CAAC3B,IAAI,CAAC2B,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAAC;MACpD,CAAC,MAAM;QACL,MAAMgB,UAAU,GAAGvG,KAAK,CAACwG,YAAY,CAACX,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC;QACpD,IAAIG,UAAU,EAAE;UACdA,UAAU,CAACE,KAAK,GAAGzG,KAAK,CAACsG,MAAM,CAACT,IAAI,CAACO,KAAK,EAAE;YAAEM,gBAAgB,EAAE;UAAI,CAAE,CAAC;UACvE,IAAI,CAAC9C,IAAI,CAAC+C,eAAe,CAACJ,UAAU,EAAET,MAAM,CAAC;UAC7C,IAAI,CAAClC,IAAI,CAACmC,SAAS,CAAC;YAClBC,IAAI,EAAEpG,OAAO,CAACqG,cAAc,CAACW,KAAK;YAClCP,OAAO,EAAEE,UAAU,CAACF;WACrB,CAAC;QACJ,CAAC,MAAM;UACL;UACA,IAAI,CAACzC,IAAI,CAACmC,SAAS,CAAC;YAAEC,IAAI,EAAEpG,OAAO,CAACqG,cAAc,CAACC;UAAE,CAAE,CAAC;QAC1D;MACF;IACF;IACA,IAAI,CAACtC,IAAI,CAAC+B,GAAG,CAACG,MAAM,CAAC;EACvB;EAEAe,KAAKA,CAACrD,IAAY,EAAEa,SAAiB,EAAER,UAAoC;IACzE,IAAI,CAACD,IAAI,CAACkD,QAAQ,CAChBtD,IAAI,EACJK,UAAU,GAAG,IAAAiB,yBAAkB,EAACjB,UAAU,CAAC,GAAGd,SAAS,EACvD,IAAA0B,oBAAa,EAACJ,SAAS,CAAC,CACzB;EACH;;AAGF;AAAA0C,OAAA,CAAAxD,QAAA,GAAAA,QAAA;AACO,MAAMyD,cAAc,GAAAD,OAAA,CAAAC,cAAA,gBAAG/G,OAAO,CAACgH,UAAU,CAC9C,iDAAiD,CAClD;AAED;AACO,MAAMC,MAAM,GAAAH,OAAA,CAAAG,MAAA,gBAAGjH,OAAO,CAACgH,UAAU,CAA6B,yCAAyC,CAAC;AAE/G;AACO,MAAME,IAAI,GAAAJ,OAAA,CAAAI,IAAA,gBAAGjH,MAAM,CAACyE,GAAG,CAACuC,MAAM,EAAG1E,MAAM,IAC5CjC,YAAY,CAAC4G,IAAI,CAAC;EAChBvD,IAAIA,CAACJ,IAAI,EAAEO,MAAM,EAAErB,OAAO,EAAEe,KAAK,EAAEY,SAAS,EAAEX,IAAI,EAAEY,OAAO;IACzD,OAAO,IAAIf,QAAQ,CACjB3D,OAAO,CAAC8C,OAAO,EACf9C,OAAO,CAACqF,KAAK,EACbzC,MAAM,EACNgB,IAAI,EACJO,MAAM,EACNrB,OAAO,EACPe,KAAK,CAAC2D,KAAK,EAAE,EACb/C,SAAS,EACTX,IAAI,EACJY,OAAO,CACR;EACH,CAAC;EACD5B,OAAOA,CAAC2E,SAAS,EAAEC,KAAK;IACtB,MAAMC,WAAW,GAAGD,KAAK,CAACC,WAAW;IAErC,IAAIA,WAAW,KAAKxE,SAAS,EAAE;MAC7B,OAAOsE,SAAS,EAAE;IACpB;IAEA,OAAOzH,OAAO,CAAC8C,OAAO,CAAC8E,IAAI,CACzBzC,eAAe,CAACnF,OAAO,CAAC8C,OAAO,CAACC,MAAM,EAAE,EAAE4E,WAAW,CAAC,EACtDF,SAAS,CACV;EACH;CACD,CAAC,CAAC;AAEL;AACO,MAAMI,aAAa,GAAAV,OAAA,CAAAU,aAAA,gBAAGxH,OAAO,CAACgH,UAAU,CAC7C,6CAA6C,CAC9C;AAED;AACO,MAAMS,aAAa,GAAAX,OAAA,CAAAW,aAAA,gBAAGzH,OAAO,CAACgH,UAAU,CAC7C,6CAA6C,CAC9C;AAED;AACO,MAAMU,gBAAgB,GAAIrD,OAKhC,IAA+B;EAC9B,IAAI5B,OAAO,GAAGzC,OAAO,CAAC2H,KAAK,EAAE;EAE7B,IAAItD,OAAO,CAACjB,UAAU,KAAKN,SAAS,EAAE;IACpCL,OAAO,GAAGzC,OAAO,CAAC4H,GAAG,CAACnF,OAAO,EAAE+E,aAAa,EAAEnD,OAAO,CAACjB,UAAU,CAAC;EACnE;EAEA,IAAI,OAAOiB,OAAO,CAACwD,UAAU,KAAK,QAAQ,EAAE;IAC1CpF,OAAO,GAAGpC,MAAM,CAACyH,KAAK,CAACC,gBAAgB,CAAC1D,OAAO,CAACwD,UAAU,CAAC,EAAE;MAC3DG,MAAM,EAAEA,CAAA,KAAMvF,OAAO;MACrBwF,MAAM,EAAGJ,UAAU,IAAK7H,OAAO,CAAC4H,GAAG,CAACnF,OAAO,EAAEgF,aAAa,EAAEI,UAAU;KACvE,CAAC;EACJ,CAAC,MAAM,IAAIxD,OAAO,CAACwD,UAAU,EAAE;IAC7BpF,OAAO,GAAGzC,OAAO,CAAC4H,GAAG,CAACnF,OAAO,EAAEgF,aAAa,EAAEpD,OAAO,CAACwD,UAAU,CAAC;EACnE;EAEA,OAAO;IACLnE,IAAI,EAAE,cAAc;IACpBR,OAAO,EAAEmB,OAAO,CAACnB,OAAO;IACxBD,MAAM,EAAEoB,OAAO,CAACpB,MAAM;IACtBE,OAAO,EAAEkB,OAAO,CAACjB,UAAU,KAAKN,SAAS,GACrC,CAACuB,OAAO,CAACjB,UAAU,GAAGzD,OAAO,CAACuF,UAAU,CAACC,OAAO,MAAMxF,OAAO,CAACuF,UAAU,CAACC,OAAO,GAChF,IAAI;IACR1C;GACD;AACH,CAAC;AAAAqE,OAAA,CAAAY,gBAAA,GAAAA,gBAAA;AAED,MAAMQ,YAAY,GAAGA,CAACvE,IAAuB,EAAEwE,KAAkB,KAAkB;EACjF,MAAMtF,WAAW,GAAwB;IACvCK,OAAO,EAAES,IAAI,CAACT,OAAO;IACrBD,MAAM,EAAEU,IAAI,CAACV,MAAM;IACnBG,UAAU,EAAEO,IAAI,CAACR,OAAO,GAAGxD,OAAO,CAACuF,UAAU,CAACC,OAAO,GAAGxF,OAAO,CAACuF,UAAU,CAACkD,IAAI;IAC/EC,QAAQ,EAAE;GACX;EAED,IAAIzC,IAAI,GAAG1F,IAAI,CAACoI,IAAI;EAEpB,MAAMC,IAAI,GAAiB;IACzB1F,WAAW,EAAEA,CAAA,KAAMA,WAAW;IAC9ByC,YAAYA,CAACD,GAAG,EAAEN,KAAK;MACrBpB,IAAI,CAACyB,SAAS,CAACC,GAAG,EAAEN,KAAK,CAAC;MAC1B,OAAOwD,IAAI;IACb,CAAC;IACDC,aAAaA,CAAC5E,UAAU;MACtB,KAAK,MAAM,CAACyB,GAAG,EAAEN,KAAK,CAAC,IAAItD,MAAM,CAACgH,OAAO,CAAC7E,UAAU,CAAC,EAAE;QACrDD,IAAI,CAACyB,SAAS,CAACC,GAAG,EAAEN,KAAK,CAAC;MAC5B;MACA,OAAOwD,IAAI;IACb,CAAC;IACD1B,QAAQA,CAACtD,IAAI;MACX,IAAIK,UAAU,GAAmCd,SAAS;MAC1D,IAAIsB,SAAS,GAAkCtB,SAAS;MACxD,IAAI4F,SAAS,CAACjE,MAAM,KAAK,CAAC,EAAE;QAC1Bb,UAAU,GAAG8E,SAAS,CAAC,CAAC,CAAC;QACzBtE,SAAS,GAAGsE,SAAS,CAAC,CAAC,CAAC;MAC1B,CAAC,MAAM;QACLtE,SAAS,GAAGsE,SAAS,CAAC,CAAC,CAAC;MAC1B;MACA/E,IAAI,CAACiD,KAAK,CAACrD,IAAI,EAAEoF,oBAAoB,CAACvE,SAAS,EAAE+D,KAAK,CAAC,EAAEvE,UAAU,CAAC;MACpE,OAAO2E,IAAI;IACb,CAAC;IACDK,OAAOA,CAACjE,IAAI;MACVhB,IAAI,CAAC6B,QAAQ,CAAC,CAAC;QACb9B,IAAI,EAAE,UAAU;QAChBC,IAAI,EAAE+D,gBAAgB,CAAC/C,IAAI,CAAClC,OAAO,CAAC;QACpCmB,UAAU,EAAEe,IAAI,CAACf,UAAU,IAAI;OAChC,CAAC,CAAC;MACH,OAAO2E,IAAI;IACb,CAAC;IACD/C,QAAQA,CAAChC,KAAK;MACZG,IAAI,CAAC6B,QAAQ,CAAChC,KAAK,CAACkB,GAAG,CAAEC,IAAI,KAAM;QACjCjB,IAAI,EAAE,UAAU;QAChBC,IAAI,EAAE+D,gBAAgB,CAAC/C,IAAI,CAAClC,OAAO,CAAC;QACpCmB,UAAU,EAAEe,IAAI,CAACf,UAAU,IAAI;OAChC,CAAC,CAAC,CAAC;MACJ,OAAO2E,IAAI;IACb,CAAC;IACDzC,SAASA,CAAC/B,MAAM;MACd6B,IAAI,GAAGjG,OAAO,CAACqG,cAAc,CAACW,KAAK,GAC/BzG,IAAI,CAAC2I,GAAG,CAAC9E,MAAM,CAACqC,OAAO,IAAI,eAAe,CAAC,GAC3ClG,IAAI,CAACoI,IAAI;MACb,OAAOC,IAAI;IACb,CAAC;IACDO,UAAU,EAAEA,CAAA,KAAMP,IAAI;IACtB7C,GAAGA,CAACC,OAAO;MACT,MAAMoD,IAAI,GAAGJ,oBAAoB,CAAChD,OAAO,EAAEwC,KAAK,CAAC;MACjDxE,IAAI,CAAC+B,GAAG,CAACqD,IAAI,EAAEnD,IAAI,CAAC;MACpB,OAAO2C,IAAI;IACb,CAAC;IACDS,WAAW,EAAEC,mBAAS;IACtBvC,eAAeA,CAACwC,SAAS,EAAEC,SAAS;MAClC,MAAMJ,IAAI,GAAGJ,oBAAoB,CAACQ,SAAS,EAAEhB,KAAK,CAAC;MACnD,MAAMhC,KAAK,GAAGpG,KAAK,CAACqJ,IAAI,CAACF,SAAS,CAAC;MACnC,MAAMG,KAAK,GAAGtJ,KAAK,CAACwG,YAAY,CAACJ,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1CxC,IAAI,CAACiD,KAAK,CAACyC,KAAK,CAACjD,OAAO,EAAE2C,IAAI,EAAE;QAC9B,gBAAgB,EAAEM,KAAK,CAAC9F,IAAI;QAC5B,mBAAmB,EAAE8F,KAAK,CAACjD,OAAO;QAClC,sBAAsB,EAAEiD,KAAK,CAAC7C,KAAK,IAAI;OACxC,CAAC;IACJ;GACD;EACD,OAAO+B,IAAI;AACb,CAAC;AAED,MAAMe,SAAS,gBAAGC,MAAM,CAAC,SAAS,CAAC;AACnC,MAAMC,SAAS,gBAAGD,MAAM,CAAC,aAAa,CAAC;AAEvC,MAAMZ,oBAAoB,GAAGA,CAACc,KAAoC,EAAEtB,KAAkB,KAAY;EAChG,IAAIsB,KAAK,KAAK3G,SAAS,EAAE;IACvB,OAAOqF,KAAK,CAACuB,sBAAsB,EAAE;EACvC,CAAC,MAAM,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IACpC,OAAOF,MAAM,CAACI,IAAI,CAACC,KAAK,CAACH,KAAK,GAAG,SAAS,CAAC,CAAC;EAC9C,CAAC,MAAM,IAAIA,KAAK,YAAYI,IAAI,EAAE;IAChC,OAAON,MAAM,CAACE,KAAK,CAACK,OAAO,EAAE,CAAC,GAAGR,SAAS;EAC5C;EACA,MAAM,CAACS,OAAO,EAAEC,KAAK,CAAC,GAAGP,KAAK;EAC9B,OAAOF,MAAM,CAACQ,OAAO,CAAC,GAAGP,SAAS,GAAGD,MAAM,CAACS,KAAK,CAAC;AACpD,CAAC;AAED;AACO,MAAMC,eAAe,GAAAnD,OAAA,CAAAmD,eAAA,gBAA8DhK,MAAM,CAACiK,SAAS,CAAE/B,KAAK,IAC/GlI,MAAM,CAACyE,GAAG,CAACzE,MAAM,CAACqH,WAAW,EAAG3D,IAAI,IAAkB;EACpD,IAAI/B,cAAc,IAAI+B,IAAI,EAAE;IAC1B,OAAQA,IAAiB,CAACA,IAAI;EAChC;EACA,OAAOuE,YAAY,CAACvE,IAAI,EAAEwE,KAAK,CAAC;AAClC,CAAC,CAAC,CACH;AAED;AACO,MAAMgC,mBAAmB,GAAArD,OAAA,CAAAqD,mBAAA,gBAAG/J,KAAK,CAACgK,IAAI,CAC3CrD,cAAc,EACd,MAAMpH,OAAO,CAACqF,KAAK,CAACqF,iBAAiB,EAAE,CACxC;AAED;AACO,MAAMC,WAAW,GAAAxD,OAAA,CAAAwD,WAAA,gBAAGlK,KAAK,CAACmK,MAAM,CACrCtD,MAAM,eACNhH,MAAM,CAACuK,OAAO,cACZvK,MAAM,CAACwK,GAAG,CAACC,kBAAQ,EAAE3D,cAAc,CAAC,EACpC,CAAC,CAAC4D,QAAQ,EAAEC,QAAQ,CAAC,KACnB3K,MAAM,CAACmK,IAAI,CAAC,MACVQ,QAAQ,CAACC,SAAS,CAChBF,QAAQ,CAAC/G,UAAU,CAAC9D,WAAW,CAACgL,iBAAiB,CAAW,EAC5DH,QAAQ,CAAC/G,UAAU,CAAC9D,WAAW,CAACiL,oBAAoB,CAAW,CAChE,CACF,CACJ,CACF;AAED;AACO,MAAMC,iBAAiB,GAAAlE,OAAA,CAAAkE,iBAAA,gBAAGV,WAAW,CAACW,IAAI,cAC/C7K,KAAK,CAAC8K,OAAO,CAACf,mBAAmB,CAAC,CACnC;AAED;AACO,MAAMgB,WAAW,GAAArE,OAAA,CAAAqE,WAAA,gBAAG/K,KAAK,CAACgL,YAAY,CAACnL,MAAM,CAACyE,GAAG,CAACwC,IAAI,EAAE9G,KAAK,CAACiL,SAAS,CAAC,CAAC,CAACJ,IAAI,cACnF7K,KAAK,CAACkL,YAAY,CAACN,iBAAiB,CAAC,CACtC;AAED;AACO,MAAMO,sBAAsB,GAAAzE,OAAA,CAAAyE,sBAAA,gBAAGnL,KAAK,CAACgL,YAAY,cAACnL,MAAM,CAACyE,GAAG,CAACwC,IAAI,EAAE9G,KAAK,CAACiL,SAAS,CAAC,CAAC;AAE3F;AACO,MAAMG,KAAK,GAAA1E,OAAA,CAAA0E,KAAA,gBAAGD,sBAAsB,CAACN,IAAI,cAC9C7K,KAAK,CAACkL,YAAY,CAAChB,WAAW,CAAC,CAChC;AAED;AACA;AACA;AAEA,MAAMvC,gBAAgB,gBAAG1H,MAAM,CAACoL,aAAa,CAAC9L,OAAO,CAACoI,gBAAgB,CAAC;AAEvE,MAAMjD,eAAe,GAAGA,CACtBtC,WAA4B,EAC5BmB,IAA0B,EAC1BlB,OAAgC,KAEhCkB,IAAI,YAAYL,QAAQ,GACtB3D,OAAO,CAACqF,KAAK,CAAC0G,OAAO,CAAClJ,WAAW,EAAEmB,IAAI,CAACA,IAAI,CAAC,GAC7ChE,OAAO,CAACqF,KAAK,CAAC2G,cAAc,CAACnJ,WAAW,EAAEoC,eAAe,CAACjB,IAAI,EAAElB,OAAO,CAAC,CAAC;AAE7E,MAAMmC,eAAe,GAAGA,CAACjB,IAA0B,EAAElB,OAAgC,MAA2B;EAC9GQ,MAAM,EAAEU,IAAI,CAACV,MAAM;EACnBC,OAAO,EAAES,IAAI,CAACT,OAAO;EACrBmF,QAAQ,EAAE1E,IAAI,CAACD,IAAI,KAAK,cAAc;EACtCN,UAAU,EAAE/C,MAAM,CAACuL,SAAS,CAC1BnJ,OAAO,GACLoJ,eAAe,CAAClI,IAAI,EAAElB,OAAO,EAAE+E,aAAa,CAAC,GAC7CxH,OAAO,CAAC8L,SAAS,CAACnI,IAAI,CAAClB,OAAO,EAAE+E,aAAa,CAAC,EAChD,MAAM7H,OAAO,CAACuF,UAAU,CAACC,OAAO,CACjC;EACD0C,UAAU,EAAExH,MAAM,CAAC0L,cAAc,CAC/BtJ,OAAO,GACLoJ,eAAe,CAAClI,IAAI,EAAElB,OAAO,EAAEgF,aAAa,CAAC,GAC7CzH,OAAO,CAAC8L,SAAS,CAACnI,IAAI,CAAClB,OAAO,EAAEgF,aAAa,CAAC;CAEnD,CAAC;AAEF,MAAMoE,eAAe,GAAGA,CACtB/H,MAA4B,EAC5BrB,OAA+B,EAC/BuJ,GAAsB,KAEtB3L,MAAM,CAAC4L,MAAM,CACXjM,OAAO,CAAC8L,SAAS,CAACrJ,OAAO,EAAEuJ,GAAG,CAAC,EAC/B,MAAMhM,OAAO,CAAC8L,SAAS,CAAChI,MAAM,CAACrB,OAAO,EAAEuJ,GAAG,CAAC,CAC7C;AAEH;AACO,MAAME,eAAe,GAAApF,OAAA,CAAAoF,eAAA,gBAAG,IAAAC,cAAI,EAQjC,CAAC,EAAE,CACH5B,MAA8B,EAC9B1H,WAAgC,KAEhC5C,MAAM,CAACmM,cAAc,CAAC7B,MAAM,EAAE7C,gBAAgB,CAAC7E,WAAW,CAAC,CAAC,CAAC","ignoreList":[]}